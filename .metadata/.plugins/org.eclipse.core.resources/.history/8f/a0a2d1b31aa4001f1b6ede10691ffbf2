package Practica1_Contraseñas;

import java.security.SecureRandom;
import java.util.Random;
import java.util.Scanner;

public class GeneraContraseña {

	public Scanner sc=new Scanner (System.in);

	public static GeneraContraseña app=new GeneraContraseña();
	
	public static Random aleatorio=new Random();
	
	public static void main(String[] args) {
		// TODO Auto-generated method stub

		
		
		
		//Peticion de datos
		app.datosPersonales();
		app.tipoContraseña();
		
	}

	//Pido los daros personales
	public void datosPersonales(){
		System.out.println("Introduce el nombre: ");
		String nombre =sc.next();
		
		System.out.println("Introduce su 1º apellido: ");
		String apellido1 =sc.next();
		
		System.out.println("Introduce su 2º apellido: ");
		String apellido2 =sc.next();
		
		System.out.println("Introduce el DNI: ");
		String DNI =sc.next();
		String dni = ""; // dni introducido por el usuario
        String letras = "TRWAGMYFPDXBNJZSQVHLCKE";
        char letracorrecta = 0; // letra DNI calculada
		if (DNI.length() == 8 ) {
            int numerodni = Integer.parseInt(DNI.substring(0, 8));
            int resto = numerodni % 23;
            letracorrecta = letras.charAt(resto);
            System.out.println("DNI: " + DNI  + letracorrecta);
        }
		
		
		System.out.println("Introduce su fecha de nacimiento: ");
		String fiechaNacimiento =sc.next();
		
		
	}
	

	
	
		
	//Aletorio para escoger el tipo de "codificación"
	public void tipoContraseña(){
		Random aleatorio=new Random();
		int tipo=aleatorio.nextInt(1,3);

		if (tipo==1) {
			int tamanio=aleatorio.nextInt(4,8);
			app.caso1(); //caso dados y moneda
		}
		else if (tipo==2) {
			int tamanio=aleatorio.nextInt(4,8);
			app.caso2(tamanio);//caso SecurityRamdom
			}
			
		else {
			int tamanio=aleatorio.nextInt(4,8);
			app.caso3();//Ultimo caso
		}
	}

	public void caso1(){
		
	}
	
	public String caso2(int tamanio) {
		SecureRandom sr =new SecureRandom();
		String contraseniaFinal="";
		String caracteresValidos="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%/&()=";
		
		int longitudContraseniaTipo2=sr.nextInt(5)+4;
		
		for (int i =0;i<longitudContraseniaTipo2;i++) {
			int posicionDelCararter=sr.nextInt(caracteresValidos.length());
			contraseniaFinal=contraseniaFinal+caracteresValidos.charAt(posicionDelCararter);
		}
		return contraseniaFinal;
	}
	
	private void caso3() {
		// TODO Auto-generated method stub

		
		
	}
	
}
